{% extends "public/templates/public_template.html" %}

{% block title %}Register{% endblock %}
{% block style %}

<style>
.webcamcontainer {
    margin: 0px auto;
    position: relative;
    width: 250px;
    height: 200px;
    border: 10px #333 solid;
    overflow: hidden
}
#videoElement {
    position: absolute;
    width: 250px;
    height: 200px;
    background-color: #666;
}
#title {
    text-align: center;
    font-weight: bold;
    font-style: italic;
}
#description {
    text-align: center;
}
#or {
    text-align: center;
}

.inputRow { 
    margin-bottom: 10px;
}

#webcamgrab {
  display: none;
}

</style>

{% endblock %}
{% block main %}

<div class="container">
    <div class="row">
      <div class="col">
  
        <h1>Upload an image</h1>
        <hr>
  
        <form action="/register" method="POST" enctype="multipart/form-data">

          <div class="form-group">
            <label for="name">Name: </label>
            <input type="text" class="form-control" id="name" name="user_name" placeholder="John Doe">
          </div>  

          <div class="form-group">
              <label for="phone">Name: </label>
              <input type="text" class="form-control" id="phone" name="phone" placeholder="60123456789">
          </div>  

          <div class='row justify-content-md-center inputRow'>
            <div class='col-sm-3 d-flex flex-wrap align-content-center'>
                <div class="form-group">
                    <div class="custom-file">
                      <label for="image">Select image...</label>
                      <input type="file" class="form-control-file" name="image" id="image">
                    </div>
                </div>
            </div>
            <div class='col-sm-2 d-flex flex-wrap justify-content-center align-content-center'>  
                <p> OR </p>
            </div>
            <div class='col-sm-3'>
                <div class="webcamcontainer" id='webcamvideo'>
                  <video autoplay="true" id="videoElement"></video>
                </div>
                <div class="webcamcontainer" id='webcamgrab'>
                  <canvas id="grabFrameCanvas" width="250" height="200"></canvas>
                </div>
                <div class='btn btn-lg d-flex flex-wrap justify-content-center align-content-center'>
                    <a href='#' onclick="onGrabFrameButtonClick();">
                        Freeze
                    </a>
                </div>
            </div>
          </div>
          <div class='d-flex flex-wrap justify-content-center'>
              <button type="submit" id='submit-button' class="btn btn-primary btn-lg">Submit</button>
          </div>
          <!-- <div class='d-flex flex-wrap justify-content-center'>

          </div> -->
        </form>
  
      </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script type = "text/javascript" src = "{{ url_for('static', filename = 'js/register.js') }}" ></script>
{% endblock %}